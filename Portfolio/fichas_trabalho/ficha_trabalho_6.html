<!DOCTYPE html>
<html lang="pt">

<head>

    <!-- MetaTags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Folhas de estilo -->
    <link rel="stylesheet" href="../css/layout.css" type="text/css">
    <link rel="stylesheet" href="../css/resumo_materia_e_fichas_trabalho.css" type="text/css">

    <!-- Bitter font family -->
    <link href="https://fonts.googleapis.com/css?family=Bitter" rel="stylesheet">

    <!-- Bootstrap CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">

    <!-- Ionic icons CDN -->
    <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">

    <!-- Título da página -->
    <title>Portfólio Web Design II | Ficha de trabalho nº 6 - API - YouTube</title>
</head>

<body>

    <!-- Ficha de trabalho nº 6 -->

    <!-- Background do tema ficha de trabalho nº 6 -->
    <div class="background-image-17">

        <!-- Seta de retorno à homepage -->
        <a title="Regressar à página principal" href="../index.html">
            <i class="ion-arrow-return-left"></i>
        </a>

        <div class="tema-title">
            <span class="border">
                Ficha de trabalho nº 6 - API YouTube
            </span>
        </div>
    </div>

    <!-- Secção "Ficha de trabalho nº 6" -->
    <section class="section section-light section_ficha">

        <!-- Título principal da página -->
        <h2 class="title">Resolução e análise à ficha de trabalho nº 6</h2>
        <br>

        <!-- Documento pdf associado à ficha de trabalho -->
        <p>Documento pdf associado:
            <a target="_blank" href="http://moodle.uac.pt/pluginfile.php/51793/mod_resource/content/1/Ficha%206.pdf">Ficha de trabalho nº 6</a>
        </p>

        <!-- Introdução à ficha de trabalho -->
        <p>A ficha de trabalho nº 6 trata-se novamente de uma espécie de "auxílio" para a resolução do trabalho final da cadeira, pois exemplifica pedidos AJAX à API (<strong>A</strong>pplication <strong>P</strong>rogramming <strong>I</strong>nterface) do YouTube. Foi demonstrado como seriam 
        logrados os resultados do pedido e ainda a forma como os mesmos seriam passíveis de serem editados.
        </p>

        <!-- Destaques da ficha de trabalho -->
        <p>
            <strong>Destaques a salientar:</strong>
        </p>

        <ul>

            <li>A implementação da técnica AJAX na ficha de trabalho foi conseguida com auxílio da biblioteca JavaScript
                <a href="../temas_abordados/tema_jquery.html">jQuery</a>;</li>
            <br>

            <li>Tal como na <a target="_blank" href="ficha_trabalho_5.html">ficha de trabalho anterior</a>, esta foi dividida em dois documentos distintos, mas associados. Um ficheiro HTML
            onde a funcionalidade "estática" do pedido viria a ser tardiamente implementada. O outro 
            tratava-se de um documento exterior com código JavaScript/jQuery, onde o pedido à API viria a ser efetuado.</li>
            <br>

            <li>Tal como na
                <a target="_blank" href="ficha_trabalho_4.html">ficha de trabalho nº 4</a> e
                <a target="_blank" href="ficha_trabalho_5.html">ficha de trabalho nº 5</a> , a documentação online da biblioteca jQuery poderia ser consultada;</li>
            <br>

            <li>O Sistema de Controlo de Versões Git deveria ser utilizado
                em cada alínea da ficha, sendo desenvolvidas diferentes branches em cada uma destas. No final deveria ser
                feito
                <em>merge</em> de todo o projeto na
                <em>branch</em>
                <em>master</em>.</li>
            <br>
            
            <li>
                Por fim, foi pedido a cada um dos discentes que utilizasse o seguinte <em>boilerplate code</em> no início da resolução da ficha: 
            </li>
            <br>
            <img src="../img/geral/boilerplate-6.PNG" alt="Boilerplate code utilizado na ficha de trabalho nº 6">
        </ul>

        <hr>

        <!-- Exercício 1 e respetiva resolução -->
        <p>
            <strong>Exercício 1:</strong> Inicie um novo repositório e faça o versionamento inicial:</p>

        <p>
            <strong>Resolução:</strong>
        </p>

        <p>Procedi ao versionamento inicial da ficha de trabalho da forma que me foi ensinada ao longo da cadeira e já utilizada por mim entretanto em praticamente todas as outras fichas de trabalho, utilizando os seguintes comandos, por ordem:</p>

        <ul>
            <li>$ git init</li>
            <li>$ git config user.name "Paulo Cunha"</li>
            <li>$ git config user.email "paulo_cunha1997@outlook.pt"</li>
            <li>$ git add .</li>
            <li>$ git commit -m "Commit inicial na ficha de trabalho nº 5"</li>
        </ul>

        <br>

        <ul>

            <li>Iniciei o versionamento utilizando o comando "git init", procedendo em seguida à configuração local do meu nome
            de utilizador e email. Utilizando o comando "git add ." transformei o estado de todos os ficheiros do diretório
            para
            <em>modified</em>. De seguida, realizei o
            <em>commit</em> inicial do exercício.</li>
        </ul>

        <hr>

        <!-- Exercício 2 e respetiva resolução -->
        <p>
            <strong>Exercício 2:</strong> Escreva uma página que contenha um label, uma caixa de input de texto e um botão. Estes
            elementos deverão ser usados para a funcionalidade de pesquisa:</p>

        <p>
            <strong>Resolução:</strong>
        </p>

        <p>Sabendo de antemão que a fase inciial de resolução desta ficha de trabalho seria muito semelhante à <a target="_blank" href="ficha_trabalho_5.html">anterior</a>, procedi à criação 
        dos elementos necessários no documento HTML em questão:</p>

        <img src="../img/geral/ficha6-1.PNG" alt="Layout dos elementos HTML implementados para a funcionalidade de pesquisa">
        <br>
        <br>

        <ul>

            <li>Foi criado primeiramente um campo de texto <em>input</em> onde viria ser escrito o 
            conteúdo sob o qual o utilizador iria querer obter os resultados de pesquisa;</li>
            <br>

            <li>Seguidamente, criou-se um botão que iria servir como <em>trigger</em> para a pesquisa 
            pretendida, com o id "button" a ser o elemento com maior destaque na interação posterior
            com JavaScript;</li>
            <br>

            <li>Finalmente, foi criada uma <em>div</em> com o id "response" que iria, tal como seria de esperar, servir como "área de receção" aos resultados da pesquisa efetuada após o pedido à API do YouTube ser concretizado.</li>

        </ul>

        <hr>

        <!-- Exercício 3 e 4 e respetiva resolução -->
        <p>
            <strong>Exercício 3 e 4:</strong> Faça a implementação de forma a que seja criada uma imagem com o <em>thumbnail</em> da resposta da API e em que ao clicar, o browser
            abra uma <em>tab</em> nova para tocar o vídeo. Apresente os resultados.
        </p>
        <p>
            <strong>Nota:</strong> Pode utilizar como URL o endpoint https://www.youtube.com/embed/videoid.
        </p>

        <p>
            <strong>Resolução:</strong>
        </p>

        <p>Realizando o pedido à API do YouTube, apresentei os resultados do mesmo criando uma imagem com o <em>thumbnail</em> da resposta da API, sendo que ao haver um clique do rato, uma <em></em>tab</em> nova seria aberta e o vídeo começaria a tocar. Apresentei os resultados utilizando para isso a <em>div</em> criada anterior no documento HTML.</p>

        <p><strong>Iniciei a resolução dos exercícios em questão da seguinte forma:</strong></p>

        <img src="../img/geral/ficha6-341.PNG" alt="Início da resolução dos exercícios 3 e 4 da ficha de trabalho nº 6">
        <br>
        <br>

        <ul>

            <li>Em primeiro lugar, criei uma constante utilizando a palavra reservada <em>const</em>,
            atribuíndo à mesma o nome de youtubeAPIKey e dando-lhe o valor da chave oferecida pelo 
            docente no <em>boilerplate code</em>;</li>
            <br>

            <li>Após a chave ter sido atribuída à constante já referida, procedi à criação do evento <em>click</em> com o auxílio da biblioteca jQuery, apontando ao id que qualificava o botão presente no documento HTML:</li>
            <br>
            <ul>
            <li>
                Dentro do <em>scope</em> dessa função, criei uma nova constante denominada de <em>query</em> (consulta) onde coloquei o valor da caixa de input presente igualmente no documento HTML criado, apontando ao id "<em>search</em>" e obtendo o seu valor através da função "val()";
            </li>
            </ul>
            <br>
            <li>
                Por fim, finalizei esta primeira fase do exercício criando uma variável denominada de "url", utilizando a palavra reservada <em>let</em>, onde coloquei obviamente o url do pedido à API juntamente com o valor da chave definida e a pesquisa, utilizando para isso a concatenação de <em>strings</em>: 
                <br><br>
                
                <ul>
                <li>
                    Foram definidos que 5 resultados ("maxResults=5") seriam devolvidos;
                </li>
                <br>

                <li>
                    O parâmetro "part" (que identifica uma ou mais propriedades de recursos de alto nível (não agrupadas) que devem ser incluídas em uma resposta da
                    API) recebeu como valor a palavra "snippet", que significa que apenas "uma parte de um todo".
                </li>
                </ul>
            </li>
            <br>

            <li>
                Com o objetivo de proceder à codificação dos vários caracteres especiais existentes, utilizei a útil função "encodeURI", passando-lhe como parâmetro a variável "url" criada anteriormente.
            </li>
            <br>

            <p><strong>Prossegui com a resolução dos exercícios 3 e 4:</strong></p>

            <img src="../img/geral/ficha6-342.PNG" alt="Continuação da resolução dos exercícios 3 e 4 da ficha de trabalho nº 6">
            <br><br>

            <li>
                Procedi, em seguida, à criação de uma tabela, onde viriam a ser apresentados os resultados do pedido à API, dando-lhe o id denominado de "resultados", através do método 
                "attr". Adicionei o elemento <em>table</em> criado ao <em>body</em> através da função "append", com "<em>table</em>" como parâmetro utilizado;
            </li>
            <br>

            <li>
                Utilizando a função jQuery "$.get()", procedi ao pedido concreto à API do YouTube, utilizando como argumentos o url criado no início da resolução dos exercícios em questão e uma função que viria a receber como argumento o id "response" (atributo pertencente à <em>div</em> criada na estrutura HTML):
                <br>
                <ul>
                    <li>No interior da função "$.get()" utilizei um ciclo "<em>for... of...</em>" de modo a iterar sobre cada "item" que o pedido à API retornaria. Utilizei logo abaixo uma estrutura de controlo que tinha como objetivo definir que se o id do item em questão não fosse o mesmo que o id do vídeo, este seria "ignorado" e passar-se-ia à iteração seguinte;</li>
                    <li>Também foram criados elementos "<em>table row</em>" (tr), sendo este adicionado ao elemento <em>table</em> e também elementos "<em>table data</em>" (td), este adicionado precisamente ao elemento "td" criado anteriormente. Ambas estas adições foram logradas através do método "append()".</li>
                </ul>
            </li>
            <br>
            
            <p><strong>Finalizei os exercícios 3 e 4:</strong></p>
            
            <img src="../img/geral/ficha6-343.PNG" alt="Finalização da resolução dos exercícios 3 e 4 da ficha de trabalho nº 6">
            <br>
            <br>

            <li>
                Encerrando os exercícios 3 e 4 da ficha de trabalho em questão, apresentei os resultados na forma pedida até então pelo enunciado: 
                <br>

                <ul>
                    <br>
                    <li>Foi criado um elemento "img" com o auxílio do seletor jQuery ("$");</li>
                    <br>
                    <li>A esse elemento criado foi atribuída a <em>source</em> através da função "attr()", sendo que essa <em>source</em> seria precisamente a <em>thumbnail</em> de cada item anteriormente criado;</li>
                    <br>
                    <li>
                        Cada elemento "img" foi adicionado aos elementos "td" criados através da função "append()". Os próprios elementos "td" foram adicionados a cada elemento "tr" através da mesma função. 
                    </li>
                    <br>

                    <li>
                        O texto de cada elemento "td" foi definido como sendo a descrição do "snippet" associado ao vídeo em questão;
                    </li>
                    <li>
                        Foi dado um exemplo de como se poderia manipular o CSS do elemento "td" criado, através da função jQuery ".css()".
                    </li>
                </ul>
                <br>

                <li>
                    Em suma, e para cumprir com o que era pedido no enunciado, foi criada uma função "click" que viria a permitir que fosse aberta numa nova janela o vídeo em questão após o clique na <em>thumbnail</em>, utilizando para isso a sintaxe/função "window.open" e dentro desta o url correspondente ao vídeo, com o respetivo id.
                </li>
            </li>

        <hr>

        <!-- Exercício 5 e respetiva resolução -->
        <p>
            <strong>Exercício 5:</strong> Apresente os resultados numa tabela:</p>

        <p>Prosseguindo a ficha de trabalho, foi pedido em seguida que se apresentasse os resultados do pedido ao serviço MusicBrainz
            numa tabela própria.</p>

       

        <hr>

        <!-- Considerações finais -->
        <p>
            <strong>Considerações finais:</strong> Como já esperava aquando do começo da resolução desta ficha de trabalho, confirmei
            as minhas expetativas quanto à utilidade e conhecimentos passíveis de serem adquiridos durante e após a resolução
            da mesma. A implementação da técnica AJAX foi sem dúvida um conceito muito interessante e sobre o qual sempre
            tive curiosidade de me "debruçar". Usarei sem dúvida os conhecimentos adquiridos com esta ficha de trabalho tanto
            para os meus futuros projectos deste curso como a nível pessoal, implementando tanto os vários métodos de pesquisa
            e respetivos filtros, como de modo a fazer pedidos cliente-servidor sempre que esta prática for necessária.</p>

    </section>

</body>

</html>